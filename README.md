# Lab-4-Pointers
Lab 4 Pointers
Structures Part I: Nov. 4, 2024 Part II: Nov. 4, 2024 Faculty of Computing, HIT Weihai Dept. of Computer Science Technology 4-1/2-0 Pointers as Function Arguments â€¢ Problem: how to exchange two variables using a function (p.95) â€¢ Language points âž¢Suppose main (the caller) calls swap (the callee) âž¢Argument(s) passed from caller to callee by value âž¢NOT vice versa 4-1-1 Faculty of Computing, HIT Weihai, 2024FA Pointers as Function Arguments â€¢ Problem: how to exchange two variables using a function (p.95) â€¢ Language points âž¢Suppose main (the caller) calls swap (the callee) âž¢Argument(s) passed from caller to callee by value âž¢NOT vice versa â€¢ This program fails because of the wrong idea: Since the value of a goes to x, afterwards the value of x will also go back to a automatically; same is true for b and y a and x are the same variable (not only equal, but they are just one variable); b and y too 4-1-2 Faculty of Computing, HIT Weihai, 2024FA Assignment 0: See How It is Wrong â€¢ Use GDB to step through the following program 4-1-3 Faculty of Computing, HIT Weihai, 2024FA void swap(int x, int y) { int temp; temp = x; x = y; y = temp; } #include int main() { int x = 3, y = 4; swap(x, y); printf("%d %d", x, y); } Assignment 0: See How It is Wrong â€¢ Use GDB to step through the following program âž¢ Job 1: âœ“ When in main, check out the address of x: (gdb) p x âœ“ When in swap, check out the address of x âœ“ Consider: are they the same variable? âž¢ Job 2: âœ“ Just before leaving swap, check out the value of x: (gdb) p x âœ“ Immediately after getting back to main, check out the value of x âž¢ Carefully record the above results and give your observation in the lab report. 4-1-4 Faculty of Computing, HIT Weihai, 2024FA Assignment 1: Get the Task Done â€¢ (p.96) By receiving the addresses of arguments from the caller, the callee manages to reach the original arguments, i.e. a and b â€¢ Step through this program 4-1-5 Faculty of Computing, HIT Weihai, 2024FA int main() { int a = 3, b = 4; swap(a, b); printf("%d %d", a, b); } void swap(int *px, int *py) { int temp; temp = *px; *px = *py; *py = temp; } Assignment 1: Get the Task Done (Cont.) â€¢ (p.96) By receiving the addresses of arguments from the caller, the callee manages to reach the original arguments, i.e. a and b â€¢ Step through this program âž¢ When in main, check out the addresses of a and b âž¢ When in swap, see if you could still visit a (or b) directly: (gdb) p a âœ“ The reason is because we are now beyond the scope of a and b (Â§4.4) âœ“ Sounds weird, but you just have to remember this rule âž¢ However, we are sure to be able to visit a through its address, which is now held in pointer px: âœ“ Try: (gdb) p px and (gdb) p *px âž¢ Carefully record the above results and give your observation in the lab report. 4-1-6 Faculty of Computing, HIT Weihai, 2024FA Assignmenä»£ å†™programã€C/C++ ä»£åšç¨‹åºç¼–ç¨‹è¯­è¨€t 2: Further Thinking â€¢ Run the following program and try to explain why â€¢ To troubleshoot, step through it using proper GDB commands â€¢ Report your work. 4-1-7 Faculty of Computing, HIT Weihai, 2024FA int main() { int a = 3, b = 4; swap(a, b); printf("%d %d", a, b); } void swap(int *px, int *py) { int *temp; temp = px; px = py; py = temp; } Arrays of Structures â€¢ Consider the following array of structures: athlete PRCplayers[] = { { "CHANG Yuan", 'F', 0x970624, "boxing", "100" }, { "JI Bowen", 'M', 0x020222, "canoe", "100" }, { "LIU Qingyi", 'F', 0x051019, "breaking", "001" }, { "LIU Yang", 'M', 0x940910, "gymnastics", "110" }, { "MA Long", 'M', 0x881020, "table tennis", "100" }, { "PAN Zhanle", 'M', 0x040804, "swimming", "210" }, { "SHENG Lihao", 'M', 0x041204, "shooting", "200" }, { "WANG Zongyuan", 'M', 0x011024, "diving", "110" }, { "WANG Chang", 'M', 0x010507, "badminton", "010" }, { "ZHANG Yufei", 'F', 0x980419, "swimming", "015" }, }; 4-2-1 Faculty of Computing, HIT Weihai, 2024FA typedef struct { char *name; char gender; unsigned birthday; char *sport; char *GSBmedals; } athlete; Arrays of Structures â€“ Comprehensive Problem Solving â€¢ Assignment 3 (choose any ONE task): âž¢ Calculate the average number of medals per capita âž¢ Find out who has/have won the most gold medals âž¢ Find out the youngest male athlete âž¢ See if player SUN Yingsha is in this array, using binary search âž¢ Rearrange the array into descending order by age, using any algorithm âž¢ Show which athletes come from the same sport team, and which sport(s) âž¢ Given the subscripts of any two players (0 for CHANG Yuan, â€¦, 9 for ZHANG Yufei), calculate how many days one is older than the other âž¢ Change all surnames from capital letters to lower case except for the initial letter; and show the full names of all players on the screen â€¢ Report your work. 4-2-2 Faculty of Computing, HIT Weihai, 2024FA Examples â€¢ Insert the following element into the array: { "ZHENG Qinwen", 'F', 0x021008, "tennis", "100" } âž¢ Step 1: find the proper position âž¢ Step 2: move all elements behind it to make room for the insertion âž¢ Step 3: put the new record into this vacated position âž¢ Step 4: show the whole array (one more record than before) 4-2-3 Faculty of Computing, HIT Weihai, 2024FA Examples â€“ insert.c â€¢ Language points âž¢When applied to an array, sizeof() evaluates to the total number of bytes in this array; when applied to a structure, the result is the # of bytes in this type of structure âž¢Structure variables CANNOT be compared directly âœ“if (plyr == pplyr) / wrong! */ âž¢Bounds check: should loop condition be > or >=? âœ“for (pplyr += n-1; n > 0; n--) âž¢printf("%-15s\t%c\t%06x\t%-15s\t%s\n"); âœ“SHENG Lihao M 041204 badminton_______200 âœ“WANG Zongyuan M 011024 diving 110 4-2-4 Faculty of Computing, HIT Weihai, 2024FA

Codinghelp Email:  ðŸ“§ devlinfeng25@gmail.com
